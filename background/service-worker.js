chrome.runtime.onInstalled.addListener(()=>chrome.contextMenus.create({id:'kanban-add',title:'Add to Kanban',contexts:['selection','page']}));chrome.contextMenus.onClicked.addListener(async(info,tab)=>{if(info.menuItemId!=='kanban-add')return;const s=(await chrome.storage.local.get('kanban.v1'))['kanban.v1'];if(!s)return;const b=s.boards.find(x=>x.id===s.activeBoardId);b.cards.push({id:crypto.randomUUID(),title:info.selectionText||tab.title,columnId:b.columns[0].id});await chrome.storage.local.set({'kanban.v1':s});});